<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>NuGet Server</title>
</head>
    <body>
        <script type="text/x-handlebars">
            {{#linkTo 'index'}}Home{{/linkTo}}
            {{#linkTo 'admin'}}Admin{{/linkTo}}
            
            <div class="content">
                {{outlet}}
            </div>

            {{view App.FooterView}}
        </script>

        <script type="text/x-handlebars" data-template-name="admin">
            The admin page. running: {{isRunning}} connected: {{isConnected}}
            <button {{action "synchronize"}} {{bindAttr disabled="isRunning"}}>Synchronize Packages</button>
            <button {{action "cancel"}}>Cancel</button>
        </script>

        <script type="text/x-handlebars" data-template-name="footer">
            {{#with view.content}}
                <div>
                    Total Packages: {{totalPackages}}
                </div>
                <div>
                    Synchronizer State: {{synchronizationState}}
                    {{#if packagesToIndex}}
                        {{completedPackages}} / {{packagesToIndex}}
                    {{/if}}
                </div>
            {{/with}}
        
        </script>

        <script src="Scripts/jquery-1.9.1.js" type="text/javascript"></script>
        <script src="Scripts/jquery.signalR-1.0.0.js" type="text/javascript"></script>
        <script src="Scripts/handlebars-1.0.9.js" type="text/javascript"></script>
        <script src="Scripts/ember-1.0.0-rc.1.js" type="text/javascript"></script>
        <script src="signalr/hubs" type="text/javascript"></script>
        <script src="Scripts/app.js" type="text/javascript"></script>
    </body>
</html>
